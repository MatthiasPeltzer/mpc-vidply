/* VidPly UI overrides (extension-level)
   This file is intentionally small and loaded after `vidply.min.css`. */

/* Allow swapping the main VidPly "big play" overlay icon via CSS variable.
   We keep the original SVG in place so clicks still start playback. */
.vidply-wrapper {
    /* expects: url("...") */
    --mpc-vidply-play-overlay-icon: none;
}

/* Only apply the background-image override when an icon was configured AND we do not inline SVG */
[data-vidply-play-icon]:not([data-vidply-play-inline-svg]) .vidply-play-overlay {
    /* Works on the SVG element as a background image layer */
    background-image: var(--mpc-vidply-play-overlay-icon);
    background-position: center;
    background-repeat: no-repeat;
    background-size: contain;

    /* Reset default VidPly "circle button" styling so the custom icon can define the look */
    border: none !important;
    border-radius: 0;
    filter: none;
}

/* When we inline+swap SVG contents for the main overlay, also remove the default circle styling */
[data-vidply-play-inline-svg] .vidply-play-overlay {
    border: none !important;
    border-radius: 0;
    filter: none;
}

.icon-play-color {
    fill: #900;
}

/* Only hide default shapes when a background-image icon is used */
[data-vidply-play-icon]:not([data-vidply-play-inline-svg]) .vidply-play-overlay .vidply-play-overlay-bg,
[data-vidply-play-icon]:not([data-vidply-play-inline-svg]) .vidply-play-overlay .vidply-play-overlay-icon {
    /* Hide default shapes when a custom background icon is used */
    opacity: 0;
}

/* Position the main overlay based on the data attribute.
   Use both descendant selectors (for wrapper) and sibling selectors (for VidPly's DOM structure
   where .vidply-play-overlay is a sibling of the video/audio element, not a descendant). */

/* LEFT-TOP position */
[data-vidply-play-position="left-top"] .vidply-play-overlay,
video[data-vidply-play-position="left-top"] ~ .vidply-play-overlay,
audio[data-vidply-play-position="left-top"] ~ .vidply-play-overlay,
div[data-vidply-play-position="left-top"] ~ .vidply-play-overlay {
    bottom: auto !important;
    left: 1rem !important;
    right: auto !important;
    top: 1rem !important;
    transform: none !important;
}

[data-vidply-play-position="left-top"] .vidply-play-overlay:hover,
video[data-vidply-play-position="left-top"] ~ .vidply-play-overlay:hover,
audio[data-vidply-play-position="left-top"] ~ .vidply-play-overlay:hover,
div[data-vidply-play-position="left-top"] ~ .vidply-play-overlay:hover {
    transform: scale(1.1) !important;
}

[data-vidply-play-position="left-top"] .vidply-play-overlay:active,
video[data-vidply-play-position="left-top"] ~ .vidply-play-overlay:active,
audio[data-vidply-play-position="left-top"] ~ .vidply-play-overlay:active,
div[data-vidply-play-position="left-top"] ~ .vidply-play-overlay:active {
    transform: scale(.95) !important;
}

/* RIGHT-TOP position */
[data-vidply-play-position="right-top"] .vidply-play-overlay,
video[data-vidply-play-position="right-top"] ~ .vidply-play-overlay,
audio[data-vidply-play-position="right-top"] ~ .vidply-play-overlay,
div[data-vidply-play-position="right-top"] ~ .vidply-play-overlay {
    bottom: auto !important;
    left: auto !important;
    right: 1rem !important;
    top: 1rem !important;
    transform: none !important;
}

[data-vidply-play-position="right-top"] .vidply-play-overlay:hover,
video[data-vidply-play-position="right-top"] ~ .vidply-play-overlay:hover,
audio[data-vidply-play-position="right-top"] ~ .vidply-play-overlay:hover,
div[data-vidply-play-position="right-top"] ~ .vidply-play-overlay:hover {
    transform: scale(1.1) !important;
}

[data-vidply-play-position="right-top"] .vidply-play-overlay:active,
video[data-vidply-play-position="right-top"] ~ .vidply-play-overlay:active,
audio[data-vidply-play-position="right-top"] ~ .vidply-play-overlay:active,
div[data-vidply-play-position="right-top"] ~ .vidply-play-overlay:active {
    transform: scale(.95) !important;
}

/* LEFT-BOTTOM position */
[data-vidply-play-position="left-bottom"] .vidply-play-overlay,
video[data-vidply-play-position="left-bottom"] ~ .vidply-play-overlay,
audio[data-vidply-play-position="left-bottom"] ~ .vidply-play-overlay,
div[data-vidply-play-position="left-bottom"] ~ .vidply-play-overlay {
    bottom: 7rem !important;
    left: 1rem !important;
    right: auto !important;
    top: auto !important;
    transform: none !important;
}

[data-vidply-play-position="left-bottom"] .vidply-play-overlay:hover,
video[data-vidply-play-position="left-bottom"] ~ .vidply-play-overlay:hover,
audio[data-vidply-play-position="left-bottom"] ~ .vidply-play-overlay:hover,
div[data-vidply-play-position="left-bottom"] ~ .vidply-play-overlay:hover {
    transform: scale(1.1) !important;
}

[data-vidply-play-position="left-bottom"] .vidply-play-overlay:active,
video[data-vidply-play-position="left-bottom"] ~ .vidply-play-overlay:active,
audio[data-vidply-play-position="left-bottom"] ~ .vidply-play-overlay:active,
div[data-vidply-play-position="left-bottom"] ~ .vidply-play-overlay:active {
    transform: scale(.95) !important;
}

/* RIGHT-BOTTOM position */
[data-vidply-play-position="right-bottom"] .vidply-play-overlay,
video[data-vidply-play-position="right-bottom"] ~ .vidply-play-overlay,
audio[data-vidply-play-position="right-bottom"] ~ .vidply-play-overlay,
div[data-vidply-play-position="right-bottom"] ~ .vidply-play-overlay {
    bottom: 7rem !important;
    left: auto !important;
    right: 1rem !important;
    top: auto !important;
    transform: none !important;
}

[data-vidply-play-position="right-bottom"] .vidply-play-overlay:hover,
video[data-vidply-play-position="right-bottom"] ~ .vidply-play-overlay:hover,
audio[data-vidply-play-position="right-bottom"] ~ .vidply-play-overlay:hover,
div[data-vidply-play-position="right-bottom"] ~ .vidply-play-overlay:hover {
    transform: scale(1.1) !important;
}

[data-vidply-play-position="right-bottom"] .vidply-play-overlay:active,
video[data-vidply-play-position="right-bottom"] ~ .vidply-play-overlay:active,
audio[data-vidply-play-position="right-bottom"] ~ .vidply-play-overlay:active,
div[data-vidply-play-position="right-bottom"] ~ .vidply-play-overlay:active {
    transform: scale(.95) !important;
}

/* Privacy button hover states - positioned variants should NOT scale, center should maintain translate */
.vidply-privacy-button--pos-center:hover {
    transform: translate(-50%, -50%) !important;
}

@media (width <= 48rem), (width < 48rem) {
    .vidply-privacy-button--pos-center:hover {
        transform: translate(-50%, -50%) scale(.65) !important;
    }
}

.vidply-privacy-button--pos-left-top:hover,
.vidply-privacy-button--pos-right-top:hover,
.vidply-privacy-button--pos-left-bottom:hover,
.vidply-privacy-button--pos-right-bottom:hover {
    transform: none !important;
}

.vidply-privacy-button--pos-left-bottom,
.vidply-privacy-button--pos-right-bottom {
    bottom: 4rem !important;
}

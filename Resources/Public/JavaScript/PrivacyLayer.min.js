!function(){"use strict";const e=[/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\?\/]+)/,/youtube\.com\/embed\/([^&\?\/]+)/,/youtube\.com\/v\/([^&\?\/]+)/],t=/vimeo\.com\/(?:video\/)?(\d+)/,o={youtube:{url:e=>`https://www.youtube-nocookie.com/embed/${e}?autoplay=1&rel=0&modestbranding=1`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"},vimeo:{url:e=>`https://player.vimeo.com/video/${e}?autoplay=1&title=0&byline=0&portrait=0`,allow:"autoplay; fullscreen; picture-in-picture"},soundcloud:{url:e=>`https://w.soundcloud.com/player/?url=${e}&auto_play=true&hide_related=true&show_comments=false&show_user=true&show_reposts=false&show_teaser=false&visual=true`,allow:"autoplay",extraAttrs:'scrolling="no" frameborder="no"'}};function n(n,r){const i=n.getAttribute("data-vidply-privacy"),l=n.getAttribute("data-vidply-url"),u=n.getAttribute("data-vidply-id");if(!l||!u)return void console.error("VidPlay Privacy Layer: Missing URL or container ID");const a=function(o,n){if("youtube"===n){for(const t of e){const e=o.match(t);if(e?.[1])return e[1]}return null}if("vimeo"===n){const e=o.match(t);return e?.[1]||null}return"soundcloud"===n?encodeURIComponent(o):null}(l,i);if(!a)return void console.error("VidPlay Privacy Layer: Invalid URL for service",i);const s=function(e,t,n){const r=o[e];return r?`\n            <iframe\n                id="${n}"\n                ${"soundcloud"===e?r.extraAttrs:'width="100%" height="100%" frameborder="0" allowfullscreen'}\n                src="${r.url(t)}"\n                allow="${r.allow}"\n                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">\n            </iframe>\n        `:""}(i,a,u);var c;s?(window.VidPlyPrivacyConsent.setConsent(i),c=n,Object.assign(c.style,{position:"relative",paddingBottom:"56.25%",height:"0",width:"100%"}),n.innerHTML=s):console.error("VidPlay Privacy Layer: Unknown service",i)}function r(){document.querySelectorAll("[data-vidply-privacy]").forEach(e=>{const t=e.querySelector(".vidply-privacy-button");t&&(t.addEventListener("click",()=>n(e)),function(e){e.addEventListener("focus",()=>{e.style.outline="3px solid rgba(255, 255, 255, 0.6)",e.style.outlineOffset="4px"}),e.addEventListener("blur",()=>e.style.outline="none")}(t))})}window.VidPlyPrivacyConsent=window.VidPlyPrivacyConsent||{youtube:!1,vimeo:!1,soundcloud:!1,hasConsent(e){return!!this[e]},setConsent(e){this[e]=!0,document.dispatchEvent(new CustomEvent("vidply:privacy:consent",{detail:{service:e}}))}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r()}();
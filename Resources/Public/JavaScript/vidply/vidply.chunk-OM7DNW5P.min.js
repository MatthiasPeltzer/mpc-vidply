/*!
 * Universal, Accessible Video Player
 * (c) 2026 Matthias Peltzer
 * Released under GPL-2.0-or-later License
 */
var m={createElement(i,e={}){let t=document.createElement(i);if(e.className&&(t.className=e.className),e.attributes)for(let[s,o]of Object.entries(e.attributes))t.setAttribute(s,o);if(e.innerHTML&&(t.innerHTML=e.innerHTML),e.textContent&&(t.textContent=e.textContent),e.style&&Object.assign(t.style,e.style),e.children)for(let s of e.children)s&&t.appendChild(s);return t},show(i){i?.style&&(i.style.display="")},hide(i){i?.style&&(i.style.display="none")},fadeIn(i,e=300,t){if(i&&(i.style.opacity="0",i.style.display="",i.style.transition=`opacity ${e}ms ease`,i.offsetHeight,i.style.opacity="1",t)){let s=()=>{i.removeEventListener("transitionend",s),t()};i.addEventListener("transitionend",s,{once:!0}),setTimeout(s,e+50)}},fadeOut(i,e=300,t){if(!i)return;i.style.transition=`opacity ${e}ms ease`,i.style.opacity="0";let s=()=>{i.removeEventListener("transitionend",s),i.style.display="none",t&&t()};i.addEventListener("transitionend",s,{once:!0}),setTimeout(s,e+50)},offset(i){if(!i)return{top:0,left:0,width:0,height:0};let e=i.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height}},escapeHTML(i){let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return i.replace(/[&<>"']/g,t=>e[t])},sanitizeHTML(i){let e=i.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/on\w+\s*=/gi,"").replace(/javascript:/gi,""),t=document.createElement("div");return t.innerHTML=e,t.innerHTML},createTooltip(i,e="vidply"){return this.createElement("span",{className:`${e}-tooltip`,textContent:i,attributes:{"aria-hidden":"true"}})},attachTooltip(i,e,t="vidply"){if(!i||!e)return;i.querySelector(`.${t}-tooltip`)?.remove();let s=this.createTooltip(e,t);i.appendChild(s);let o=`${t}-tooltip-visible`,n=()=>s.classList.add(o),r=()=>s.classList.remove(o);i.addEventListener("mouseenter",n),i.addEventListener("mouseleave",r),i.addEventListener("focus",n),i.addEventListener("blur",r)},createButtonText(i,e="vidply"){return this.createElement("span",{className:`${e}-button-text`,textContent:i,attributes:{"aria-hidden":"true"}})},addClass(i,e){i?.classList?.add(e)},removeClass(i,e){i?.classList?.remove(e)},toggleClass(i,e){i?.classList?.toggle(e)},hasClass(i,e){return i?.classList?.contains(e)??!1}};var w={player:{label:"Video Player",play:"Play",pause:"Pause",stop:"Stop",restart:"Restart from beginning",rewind:"Rewind",forward:"Forward",rewindSeconds:"Rewind {seconds} seconds",forwardSeconds:"Forward {seconds} seconds",previous:"Previous track",next:"Next track",playlist:"Toggle playlist",volume:"Volume",mute:"Mute",unmute:"Unmute",fullscreen:"Fullscreen",exitFullscreen:"Exit Fullscreen",captions:"Captions",chapters:"Chapters",quality:"Quality",captionStyling:"Caption styling",transcript:"Toggle transcript",audioDescription:"Audio description",signLanguage:"Sign language video",settings:"Settings",speed:"Playback Speed",pip:"Picture in Picture",currentTime:"Current time",duration:"Duration",progress:"Progress",seekForward:"Seek forward {seconds} seconds",seekBackward:"Seek backward {seconds} seconds",volumeUp:"Volume up",volumeDown:"Volume down",loading:"Loading...",loadingChapters:"Loading chapters...",error:"Error loading media",buffering:"Buffering...",signLanguageVideo:"Sign Language Video",closeSignLanguage:"Close sign language video",signLanguageSettings:"Sign language settings",startPlaybackFirst:"Please start playback first.",startPlaybackForAudioDescription:"Please start playback first to use audio description.",startPlaybackForSignLanguage:"Please start playback first to use sign language video.",noChapters:"No chapters available",noCaptions:"No captions available",auto:"Auto",autoQuality:"Auto (no quality selection available)",noQuality:"Quality selection not available",signLanguageDragResize:"Sign Language Video - Press D to drag with keyboard, R to resize",signLanguageDragActive:"Sign Language Video - Drag mode active. Use arrow keys to move, Escape to exit.",signLanguageResizeActive:"Sign Language Video - Resize mode active. Use left/right arrow keys to resize, Escape to exit.",enableSignDragMode:"Enable drag mode. Shortcut: D key",disableSignDragMode:"Disable drag mode. Shortcut: D key",enableSignDragModeAria:"Enable toggle keyboard drag mode with arrow keys. Shortcut: D key",disableSignDragModeAria:"Disable toggle keyboard drag mode with arrow keys. Shortcut: D key",enableSignResizeMode:"Enable resize mode. Shortcut: R key",disableSignResizeMode:"Disable resize mode. Shortcut: R key",enableSignResizeModeAria:"Enable keyboard resize mode with arrow keys. Shortcut: R key",disableSignResizeModeAria:"Disable keyboard resize mode with arrow keys. Shortcut: R key",resizeHandle:"Resize {direction} corner",moreOptions:"More options",noMoreOptions:"No additional options available"},captions:{off:"Off",select:"Select captions",fontSize:"Font Size",fontFamily:"Font Family",color:"Text Color",backgroundColor:"Background Color",opacity:"Opacity"},fontSizes:{small:"Small",normal:"Normal",large:"Large",xlarge:"X-Large"},fontFamilies:{sansSerif:"Sans-serif",serif:"Serif",monospace:"Monospace"},styleLabels:{textColor:"Text Color",background:"Background",font:"Font",fontSize:"Font Size",opacity:"Opacity"},audioDescription:{enable:"Enable audio description",disable:"Disable audio description"},signLanguage:{show:"Show sign language video",hide:"Hide sign language video"},transcript:{title:"Transcript",ariaLabel:"Video Transcript",close:"Close transcript",loading:"Loading transcript...",noTranscript:"No transcript available for this video.",settings:"Transcript settings. Press Enter to open menu, or D to enable drag mode",keyboardDragMode:"Toggle keyboard drag mode with arrow keys. Shortcut: D key",keyboardDragActive:"⌨️ Keyboard Drag Mode Active (Arrow keys to move, Shift+Arrows for large steps, D or ESC to exit)",dragResizePrompt:"Press D to drag or R to resize. Use Home to reset position, Esc to close.",dragModeEnabled:"Keyboard drag mode enabled. Use arrow keys to move, Shift+Arrow for larger steps. Press D or Esc to exit.",dragModeDisabled:"Keyboard drag mode disabled.",enableDragMode:"Enable drag mode. Shortcut: D key",disableDragMode:"Disable drag mode. Shortcut: D key",enableDragModeAria:"Enable toggle keyboard drag mode with arrow keys. Shortcut: D key",disableDragModeAria:"Disable toggle keyboard drag mode with arrow keys. Shortcut: D key",resizeWindow:"Resize Window",disableResizeWindow:"Disable Resize Mode",enableResizeMode:"Enable resize mode. Shortcut: R key",disableResizeMode:"Disable resize mode. Shortcut: R key",enableResizeModeAria:"Enable keyboard resize mode with arrow keys. Shortcut: R key",disableResizeModeAria:"Disable keyboard resize mode with arrow keys. Shortcut: R key",resizeModeHint:"Resize handles enabled. Drag edges or corners to adjust. Press Esc or R to exit.",resizeModeEnabled:"Resize mode enabled. Drag edges or corners to adjust. Press Esc or R to exit.",resizeModeDisabled:"Resize mode disabled.",positionReset:"Transcript position reset.",styleTranscript:"Open transcript style settings",closeMenu:"Close Menu",styleTitle:"Transcript Style",autoscroll:"Autoscroll",settingsMenu:"Transcript dialog settings",showTimestamps:"Show timestamps",hideTimestamps:"Hide timestamps",showTimestampsAria:"Show timestamps in transcript",hideTimestampsAria:"Hide timestamps in transcript"},settings:{title:"Settings",quality:"Quality",speed:"Speed",captions:"Captions",language:"Language",reset:"Reset to defaults",close:"Close"},speeds:{normal:"Normal"},time:{display:"Time display",durationPrefix:"Duration: ",of:"of",hour:"{count} hour",hours:"{count} hours",minute:"{count} minute",minutes:"{count} minutes",second:"{count} second",seconds:"{count} seconds"},playlist:{title:"Playlist",trackOf:"Track {current} of {total}",nowPlaying:"Now playing: Track {current} of {total}. {title}{artist}",by:" by ",untitled:"Untitled",trackUntitled:"Track {number}",currentlyPlaying:"Currently playing",notPlaying:"Not playing",pressEnterPlay:"Press Enter to play",pressEnterRestart:"Press Enter to restart",keyboardInstructions:"Playlist navigation: Use Up and Down arrow keys to move between tracks. Press Page Up or Page Down to skip 5 tracks. Press Home to go to first track, End to go to last track. Press Enter or Space to play the selected track.",endOfPlaylist:"End of playlist. {current} of {total}.",beginningOfPlaylist:"Beginning of playlist. 1 of {total}.",jumpedToLastTrack:"Jumped to last track. {current} of {total}.",jumpedToFirstTrack:"Jumped to first track. 1 of {total}.",firstTrack:"First track. 1 of {total}.",lastTrack:"Last track. {current} of {total}."}};var M={de:()=>import("./vidply.de-WCUZUF3T.min.js"),es:()=>import("./vidply.es-54CIIDMO.min.js"),fr:()=>import("./vidply.fr-7FYGFFK2.min.js"),ja:()=>import("./vidply.ja-E4UTAURP.min.js")};function y(){return{en:w}}function k(){return M}async function S(i){let e=M[i];if(!e)return null;let t=await e();return t[i]||t.default||null}var V=y();var v=class{constructor(){this.currentLanguage="en",this.translations=y(),this.loadingPromises=new Map,this.builtInLanguageLoaders=k()}setLanguage(e){this.translations[e]?this.currentLanguage=e:(console.warn(`Language "${e}" not found, falling back to English`),this.currentLanguage="en")}getLanguage(){return this.currentLanguage}async ensureLanguage(e){let t=(e||"").toLowerCase();if(!t)return this.currentLanguage;if(this.translations[t])return t;if(this.loadingPromises.has(t))return await this.loadingPromises.get(t),this.translations[t]?t:null;if(!this.builtInLanguageLoaders[t])return null;let s=(async()=>{try{let o=await S(t);o&&(this.translations[t]=o)}catch(o){console.warn(`Language "${t}" failed to load:`,o)}finally{this.loadingPromises.delete(t)}})();return this.loadingPromises.set(t,s),await s,this.translations[t]?t:null}t(e,t={}){let s=e.split("."),o=this.translations[this.currentLanguage];for(let n of s)if(o&&typeof o=="object"&&n in o)o=o[n];else{o=this.translations.en;for(let r of s)if(o&&typeof o=="object"&&r in o)o=o[r];else return e;break}return typeof o=="string"&&Object.entries(t).forEach(([n,r])=>{o=o.replace(new RegExp(`{${n}}`,"g"),r)}),o}addTranslation(e,t){this.translations[e]||(this.translations[e]={}),Object.assign(this.translations[e],t)}async loadLanguageFromUrl(e,t){if(this.loadingPromises.has(t))return this.loadingPromises.get(t);let s=(async()=>{try{let o=await fetch(t);if(!o.ok)throw new Error(`Failed to load language file: ${o.statusText}`);let n=o.headers.get("content-type")||"",r,d=await o.arrayBuffer(),a=new TextDecoder("utf-8").decode(d);if(n.includes("application/json")||t.endsWith(".json"))r=JSON.parse(a);else if(n.includes("text/yaml")||n.includes("application/x-yaml")||t.endsWith(".yaml")||t.endsWith(".yml"))try{r=JSON.parse(a)}catch{if(typeof window<"u"&&window.jsyaml)r=window.jsyaml.load(a);else throw console.warn("YAML parsing requires js-yaml library. Please include it or use JSON format."),new Error("YAML parsing not available. Please use JSON format or include js-yaml library.")}else r=JSON.parse(a);return this.addTranslation(e,r),r}catch(o){throw console.error(`Error loading language file from ${t}:`,o),o}finally{this.loadingPromises.delete(t)}})();return this.loadingPromises.set(t,s),s}async loadLanguagesFromUrls(e){let t=Object.entries(e).map(([s,o])=>this.loadLanguageFromUrl(s,o));await Promise.all(t)}},p=new v;var F={formatTime(i,e=!1){if(!isFinite(i)||i<0)return e?"00:00:00":"00:00";let t=Math.floor(i/3600),s=Math.floor(i%3600/60),o=Math.floor(i%60),n=r=>String(r).padStart(2,"0");return t>0||e?`${n(t)}:${n(s)}:${n(o)}`:`${n(s)}:${n(o)}`},parseTime(i){let e=i.split(":").map(t=>parseInt(t,10));return e.length===3?e[0]*3600+e[1]*60+e[2]:e.length===2?e[0]*60+e[1]:e.length===1?e[0]:0},formatDuration(i){if(!isFinite(i)||i<0)return p.t("time.seconds",{count:0});let e=Math.floor(i/3600),t=Math.floor(i%3600/60),s=Math.floor(i%60),o=[];if(e>0){let n=e===1?"time.hour":"time.hours";o.push(p.t(n,{count:e}))}if(t>0){let n=t===1?"time.minute":"time.minutes";o.push(p.t(n,{count:t}))}if(s>0||o.length===0){let n=s===1?"time.second":"time.seconds";o.push(p.t(n,{count:s}))}return o.join(", ")},formatPercentage(i,e){return e===0?0:Math.round(i/e*100)}};var E={play:'<path d="M8 5v14l11-7z"/>',pause:'<path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>',stop:'<rect x="6" y="6" width="12" height="12"/>',rewind:'<path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"/>',forward:'<path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/>',skipPrevious:'<path d="M6 6h2v12H6V6zm3 6l8.5 6V6L9 12z"/>',skipNext:'<path d="M16 6h2v12h-2V6zM6 6l8.5 6L6 18V6z"/>',restart:'<path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/>',volumeHigh:'<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>',volumeMedium:'<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/>',volumeLow:'<path d="M7 9v6h4l5 5V4l-5 5H7z"/>',volumeMuted:'<path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>',fullscreen:'<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>',fullscreenExit:'<path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/>',settings:'<path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94L14.4 2.81c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>',captions:'<path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"/>',captionsOff:'<path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"/><path d="M0 0h24v24H0z" fill="none"/>',pip:'<path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"/>',speed:'<path d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44z"/><path d="M10.59 15.41a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"/>',close:'<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>',check:'<path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>',loading:'<path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>',error:'<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>',playlist:'<path d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"/>',hd:'<path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v4zm-3.5-.5h2v-3h-2v3z"/>',transcript:'<path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>',chapters:'<path d="M3 5h2v2H3V5zm0 4h2v2H3V9zm0 4h2v2H3v-2zm0 4h2v2H3v-2zM7 5h14v2H7V5zm0 4h14v2H7V9zm0 4h14v2H7v-2zm0 4h14v2H7v-2z"/>',audioDescription:'<rect x="2" y="5" width="20" height="14" rx="2" fill="#ffffff" stroke="#ffffff" stroke-width="2"/><text x="12" y="16" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#1a1a1a">AD</text>',audioDescriptionOn:'<rect x="2" y="5" width="20" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="2"/><text x="12" y="16" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="currentColor">AD</text>',signLanguage:'<g transform="scale(1.5)"><path d="M16 11.3c-.1-.9-4.8 1.3-5.4 1.1-2.6-1 5.8-1.3 5.1-2.9s-5.1 1.5-6 1.4C6.5 9.4 16.5 9.1 13.5 8c-1.9-.6-8.8 2.9-6.8.4.7-.6.7-1.9-.7-1.7-9.7 7.2-.7 12.2 8.8 7 0-1.3-3.5.4-4.1.4-2.6 0 5.6-2 5.4-3ZM3.9 7.8c3.2-4.2 3.7 1.2 6 .1s.2-.2.2-.3c.7-2.7 2.5-7.5-1.5-1.3-1.6 0 1.1-4 1-4.6C8.9-1 7.3 4.4 7.2 4.9c-1.6.7-.9-1.4-.7-1.5 3-6-.6-3.1-.9.4-2.5 1.8 0-2.8 0-3.5C2.8-.9 4 9.4 1.1 4.9S.1 4.6 0 5c-.4 2.7 2.6 7.2 3.9 2.8Z"/></g>',signLanguageOn:'<g transform="scale(1.5)"><path d="M16 11.3c-.1-.9-4.8 1.3-5.4 1.1-2.6-1 5.8-1.3 5.1-2.9s-5.1 1.5-6 1.4C6.5 9.4 16.5 9.1 13.5 8c-1.9-.6-8.8 2.9-6.8.4.7-.6.7-1.9-.7-1.7-9.7 7.2-.7 12.2 8.8 7 0-1.3-3.5.4-4.1.4-2.6 0 5.6-2 5.4-3ZM3.9 7.8c3.2-4.2 3.7 1.2 6 .1s.2-.2.2-.3c.7-2.7 2.5-7.5-1.5-1.3-1.6 0 1.1-4 1-4.6C8.9-1 7.3 4.4 7.2 4.9c-1.6.7-.9-1.4-.7-1.5 3-6-.6-3.1-.9.4-2.5 1.8 0-2.8 0-3.5C2.8-.9 4 9.4 1.1 4.9S.1 4.6 0 5c-.4 2.7 2.6 7.2 3.9 2.8Z"/></g>',music:'<path d="M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7zm-1.5 16c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>',moreVertical:'<path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>',move:'<path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"/>',resize:'<path d="M21.71 11.29l-9-9c-.39-.39-1.02-.39-1.41 0l-9 9c-.39.39-.39 1.02 0 1.41l9 9c.39.39 1.02.39 1.41 0l9-9c.39-.38.39-1.01 0-1.41zM14 14.5V12h-4v2.5L7 11l3-3.5V10h4V7.5l3 3.5-3 3.5z"/>',clock:'<path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>'},H=i=>`<svg viewBox="0 0 24 24" fill="currentColor">${i}</svg>`,L=Object.fromEntries(Object.entries(E).map(([i,e])=>[i,H(e)]));function P(i){return L[i]||L.play}function D(i,e=""){let t=document.createElement("span");return t.className=`vidply-icon ${e}`.trim(),t.innerHTML=P(i),t.setAttribute("aria-hidden","true"),t}function W(){let i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("class","vidply-play-overlay"),i.setAttribute("viewBox","0 0 80 80"),i.setAttribute("width","80"),i.setAttribute("height","80"),i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),i.style.cursor="pointer";let e=document.createElementNS("http://www.w3.org/2000/svg","defs"),t=`vidply-play-shadow-${Math.random().toString(36).substr(2,9)}`,s=document.createElementNS("http://www.w3.org/2000/svg","filter");s.setAttribute("id",t),s.setAttribute("x","-50%"),s.setAttribute("y","-50%"),s.setAttribute("width","200%"),s.setAttribute("height","200%");let o=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("stdDeviation","3");let n=document.createElementNS("http://www.w3.org/2000/svg","feOffset");n.setAttribute("dx","0"),n.setAttribute("dy","2"),n.setAttribute("result","offsetblur");let r=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer"),d=document.createElementNS("http://www.w3.org/2000/svg","feFuncA");d.setAttribute("type","linear"),d.setAttribute("slope","0.3"),r.appendChild(d);let a=document.createElementNS("http://www.w3.org/2000/svg","feMerge"),u=document.createElementNS("http://www.w3.org/2000/svg","feMergeNode"),h=document.createElementNS("http://www.w3.org/2000/svg","feMergeNode");h.setAttribute("in","SourceGraphic"),a.appendChild(u),a.appendChild(h),s.appendChild(o),s.appendChild(n),s.appendChild(r),s.appendChild(a),e.appendChild(s),i.appendChild(e);let l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("cx","40"),l.setAttribute("cy","40"),l.setAttribute("r","40"),l.setAttribute("fill","rgba(255, 255, 255, 0.95)"),l.setAttribute("filter",`url(#${t})`),l.setAttribute("class","vidply-play-overlay-bg"),i.appendChild(l);let c=document.createElementNS("http://www.w3.org/2000/svg","polygon");return c.setAttribute("points","32,28 32,52 54,40"),c.setAttribute("fill","#0a406e"),c.setAttribute("class","vidply-play-overlay-icon"),i.appendChild(c),i}function b(i,{delay:e=0,preventScroll:t=!0}={}){i&&requestAnimationFrame(()=>{setTimeout(()=>{i&&document.contains(i)&&i.focus({preventScroll:t})},e)})}function X(i,e,t={}){if(!i)return;let s=i.querySelector(e);s&&b(s,t)}var x=class{constructor(e="vidply"){this.namespace=e,this.storage=this.isStorageAvailable()?localStorage:null}isStorageAvailable(){try{let e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}getKey(e){return`${this.namespace}_${e}`}set(e,t){if(!this.storage)return!1;try{let s=this.getKey(e);return this.storage.setItem(s,JSON.stringify(t)),!0}catch(s){return console.warn("Failed to save to localStorage:",s),!1}}get(e,t=null){if(!this.storage)return t;try{let s=this.getKey(e),o=this.storage.getItem(s);return o?JSON.parse(o):t}catch(s){return console.warn("Failed to read from localStorage:",s),t}}remove(e){if(!this.storage)return!1;try{let t=this.getKey(e);return this.storage.removeItem(t),!0}catch(t){return console.warn("Failed to remove from localStorage:",t),!1}}clear(){if(!this.storage)return!1;try{return Object.keys(this.storage).forEach(t=>{t.startsWith(this.namespace)&&this.storage.removeItem(t)}),!0}catch(e){return console.warn("Failed to clear localStorage:",e),!1}}saveTranscriptPreferences(e){return this.set("transcript_preferences",e)}getTranscriptPreferences(){return this.get("transcript_preferences",null)}saveCaptionPreferences(e){return this.set("caption_preferences",e)}getCaptionPreferences(){return this.get("caption_preferences",null)}savePlayerPreferences(e){return this.set("player_preferences",e)}getPlayerPreferences(){return this.get("player_preferences",null)}saveSignLanguagePreferences(e){return this.set("sign_language_preferences",e)}getSignLanguagePreferences(){return this.get("sign_language_preferences",null)}};var R=class{constructor(e,t={}){this.element=e,this.options={dragHandle:null,resizeHandles:[],onDragStart:null,onDrag:null,onDragEnd:null,onResizeStart:null,onResize:null,onResizeEnd:null,constrainToViewport:!0,minWidth:150,minHeight:100,maintainAspectRatio:!1,keyboardDragKey:"d",keyboardResizeKey:"r",keyboardStep:5,keyboardStepLarge:10,maxWidth:null,maxHeight:null,pointerResizeIndicatorText:null,onPointerResizeToggle:null,classPrefix:"draggable",storage:null,storageKey:null,...t},this.isDragging=!1,this.isResizing=!1,this.resizeDirection=null,this.dragOffsetX=0,this.dragOffsetY=0,this.positionOffsetX=0,this.positionOffsetY=0,this.initialMouseX=0,this.initialMouseY=0,this.needsPositionConversion=!1,this.resizeStartX=0,this.resizeStartY=0,this.resizeStartWidth=0,this.resizeStartHeight=0,this.resizeStartLeft=0,this.resizeStartTop=0,this.keyboardDragMode=!1,this.keyboardResizeMode=!1,this.pointerResizeMode=!1,this.manuallyPositioned=!1,this.resizeHandlesManaged=new Map,this.resizeIndicatorElement=null,this.handlers={mousedown:this.onMouseDown.bind(this),mousemove:this.onMouseMove.bind(this),mouseup:this.onMouseUp.bind(this),touchstart:this.onTouchStart.bind(this),touchmove:this.onTouchMove.bind(this),touchend:this.onTouchEnd.bind(this),keydown:this.onKeyDown.bind(this),resizeHandleMousedown:this.onResizeHandleMouseDown.bind(this)},this.init()}hasManagedResizeHandles(){return Array.from(this.resizeHandlesManaged.values()).some(Boolean)}storeOriginalHandleDisplay(e){e.dataset.originalDisplay||(e.dataset.originalDisplay=e.style.display||"")}hideResizeHandle(e){e.style.display="none",e.setAttribute("aria-hidden","true")}showResizeHandle(e){let t=e.dataset.originalDisplay!==void 0?e.dataset.originalDisplay:"";e.style.display=t,e.removeAttribute("aria-hidden")}setManagedHandlesVisible(e){!this.options.resizeHandles||this.options.resizeHandles.length===0||this.options.resizeHandles.forEach(t=>{this.resizeHandlesManaged.get(t)&&(e?this.showResizeHandle(t):this.hideResizeHandle(t))})}init(){let e=this.options.dragHandle||this.element;e.addEventListener("mousedown",this.handlers.mousedown),e.addEventListener("touchstart",this.handlers.touchstart),document.addEventListener("mousemove",this.handlers.mousemove),document.addEventListener("mouseup",this.handlers.mouseup),document.addEventListener("touchmove",this.handlers.touchmove,{passive:!1}),document.addEventListener("touchend",this.handlers.touchend),this.element.addEventListener("keydown",this.handlers.keydown),this.options.resizeHandles&&this.options.resizeHandles.length>0&&this.options.resizeHandles.forEach(t=>{t.addEventListener("mousedown",this.handlers.resizeHandleMousedown),t.addEventListener("touchstart",this.handlers.resizeHandleMousedown);let s=t.dataset.vidplyManagedResize==="true";this.resizeHandlesManaged.set(t,s),s&&(this.storeOriginalHandleDisplay(t),this.hideResizeHandle(t))})}onMouseDown(e){e.target.classList.contains(`${this.options.classPrefix}-resize-handle`)||this.options.onDragStart&&!this.options.onDragStart(e)||(this.startDragging(e.clientX,e.clientY),e.preventDefault())}onTouchStart(e){if(e.target.classList.contains(`${this.options.classPrefix}-resize-handle`)||this.options.onDragStart&&!this.options.onDragStart(e))return;let t=e.touches[0];this.startDragging(t.clientX,t.clientY)}onResizeHandleMouseDown(e){e.preventDefault(),e.stopPropagation();let t=e.target;this.resizeDirection=t.getAttribute("data-direction");let s=e.clientX||e.touches?.[0]?.clientX,o=e.clientY||e.touches?.[0]?.clientY;this.startResizing(s,o)}onMouseMove(e){this.isDragging?(this.drag(e.clientX,e.clientY),e.preventDefault()):this.isResizing&&(this.resize(e.clientX,e.clientY),e.preventDefault())}onTouchMove(e){if(this.isDragging||this.isResizing){let t=e.touches[0];this.isDragging?this.drag(t.clientX,t.clientY):this.resize(t.clientX,t.clientY),e.preventDefault()}}onMouseUp(){this.isDragging?this.stopDragging():this.isResizing&&this.stopResizing()}onTouchEnd(){this.isDragging?this.stopDragging():this.isResizing&&this.stopResizing()}onKeyDown(e){if(e.key.toLowerCase()===this.options.keyboardDragKey.toLowerCase()){e.preventDefault(),this.toggleKeyboardDragMode();return}if(e.key.toLowerCase()===this.options.keyboardResizeKey.toLowerCase()){e.preventDefault(),this.hasManagedResizeHandles()?this.togglePointerResizeMode():this.toggleKeyboardResizeMode();return}if(e.key==="Escape"){if(this.pointerResizeMode){e.preventDefault(),this.disablePointerResizeMode();return}if(this.keyboardDragMode||this.keyboardResizeMode){e.preventDefault(),this.disableKeyboardDragMode(),this.disableKeyboardResizeMode();return}}["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e.key)&&(this.keyboardDragMode?(e.preventDefault(),e.stopPropagation(),this.keyboardDrag(e.key,e.shiftKey)):this.keyboardResizeMode&&(e.preventDefault(),e.stopPropagation(),this.keyboardResize(e.key,e.shiftKey))),e.key==="Home"&&(this.keyboardDragMode||this.keyboardResizeMode)&&(e.preventDefault(),this.resetPosition())}startDragging(e,t){let s=this.element.getBoundingClientRect(),o=window.getComputedStyle(this.element),n=o.right!=="auto"||o.bottom!=="auto"||o.transform!=="none";if(this.positionOffsetX=0,this.positionOffsetY=0,n){let d,a;if(o.position==="absolute"){let c=(this.element.offsetParent||document.body).getBoundingClientRect();d=s.left-c.left,a=s.top-c.top,this.positionOffsetX=c.left,this.positionOffsetY=c.top}else if(o.position==="fixed"){let l=parseFloat(o.left),c=parseFloat(o.top),f=Number.isFinite(l),g=Number.isFinite(c);d=f?l:s.left,a=g?c:s.top,this.positionOffsetX=s.left-d,this.positionOffsetY=s.top-a}else d=s.left,a=s.top,this.positionOffsetX=s.left-d,this.positionOffsetY=s.top-a;let h=this.element.style.cssText.split(";").filter(l=>{let c=l.trim();if(!c)return!1;let f=c.indexOf(":");if(f===-1)return!1;let g=c.substring(0,f).trim(),z=c.substring(f+1).trim();return!(!z||z===""||g==="right"||g==="bottom"||g==="transform"||g==="left"||g==="top"||g==="inset"||g.startsWith("border-image"))}).join("; ");h&&(h+="; "),h+=`left: ${d}px; top: ${a}px; right: auto; bottom: auto; transform: none`,this.element.style.cssText=h}let r=this.element.getBoundingClientRect();this.dragOffsetX=e-r.left,this.dragOffsetY=t-r.top,this.isDragging=!0,this.element.classList.add(`${this.options.classPrefix}-dragging`),document.body.style.cursor="grabbing",document.body.style.userSelect="none"}drag(e,t){if(!this.isDragging)return;let s=e-this.dragOffsetX-this.positionOffsetX,o=t-this.dragOffsetY-this.positionOffsetY;if(this.options.constrainToViewport){let n=this.element.getBoundingClientRect(),r=document.documentElement.clientWidth,d=document.documentElement.clientHeight,a=100,u=-(n.width-a),h=-(n.height-a),l=r-a,c=d-a;s=Math.max(u,Math.min(s,l)),o=Math.max(h,Math.min(o,c))}this.element.style.left=`${s}px`,this.element.style.top=`${o}px`,this.options.onDrag&&this.options.onDrag({x:s,y:o})}stopDragging(){this.isDragging=!1,this.element.classList.remove(`${this.options.classPrefix}-dragging`),document.body.style.cursor="",document.body.style.userSelect="",this.manuallyPositioned=!0,this.options.onDragEnd&&this.options.onDragEnd()}startResizing(e,t){this.isResizing=!0,this.resizeStartX=e,this.resizeStartY=t;let s=this.element.getBoundingClientRect();this.resizeStartWidth=s.width,this.resizeStartHeight=s.height,this.resizeStartLeft=s.left,this.resizeStartTop=s.top,this.element.classList.add(`${this.options.classPrefix}-resizing`),document.body.style.userSelect="none",this.options.onResizeStart&&this.options.onResizeStart()}resize(e,t){if(!this.isResizing)return;let s=e-this.resizeStartX,o=t-this.resizeStartY,n=this.resizeStartWidth,r=this.resizeStartHeight,d=this.resizeStartLeft,a=this.resizeStartTop;if(this.resizeDirection.includes("e")&&(n=Math.max(this.options.minWidth,this.resizeStartWidth+s)),this.resizeDirection.includes("w")){let h=Math.max(this.options.minWidth,this.resizeStartWidth-s);d=this.resizeStartLeft+(this.resizeStartWidth-h),n=h}let u=typeof this.options.maxWidth=="function"?this.options.maxWidth():this.options.maxWidth;if(Number.isFinite(u)){let h=Math.min(n,u);h!==n&&this.resizeDirection.includes("w")&&(d+=n-h),n=h}if(!this.options.maintainAspectRatio){if(this.resizeDirection.includes("s")&&(r=Math.max(this.options.minHeight,this.resizeStartHeight+o)),this.resizeDirection.includes("n")){let l=Math.max(this.options.minHeight,this.resizeStartHeight-o);a=this.resizeStartTop+(this.resizeStartHeight-l),r=l}let h=typeof this.options.maxHeight=="function"?this.options.maxHeight():this.options.maxHeight;if(Number.isFinite(h)){let l=Math.min(r,h);l!==r&&this.resizeDirection.includes("n")&&(a+=r-l),r=l}}this.element.style.width=`${n}px`,this.options.maintainAspectRatio?this.element.style.height="auto":this.element.style.height=`${r}px`,this.resizeDirection.includes("w")&&(this.element.style.left=`${d}px`),this.resizeDirection.includes("n")&&!this.options.maintainAspectRatio&&(this.element.style.top=`${a}px`),this.options.onResize&&this.options.onResize({width:n,height:r,left:d,top:a})}stopResizing(){this.isResizing=!1,this.resizeDirection=null,this.element.classList.remove(`${this.options.classPrefix}-resizing`),document.body.style.userSelect="",this.manuallyPositioned=!0,this.options.onResizeEnd&&this.options.onResizeEnd()}toggleKeyboardDragMode(){this.keyboardDragMode?this.disableKeyboardDragMode():this.enableKeyboardDragMode()}enableKeyboardDragMode(){this.keyboardDragMode=!0,this.keyboardResizeMode=!1,this.element.classList.add(`${this.options.classPrefix}-keyboard-drag`),this.element.classList.remove(`${this.options.classPrefix}-keyboard-resize`),this.focusElement()}disableKeyboardDragMode(){this.keyboardDragMode=!1,this.element.classList.remove(`${this.options.classPrefix}-keyboard-drag`)}toggleKeyboardResizeMode(){this.keyboardResizeMode?this.disableKeyboardResizeMode():this.enableKeyboardResizeMode()}enableKeyboardResizeMode(){this.keyboardResizeMode=!0,this.keyboardDragMode=!1,this.element.classList.add(`${this.options.classPrefix}-keyboard-resize`),this.element.classList.remove(`${this.options.classPrefix}-keyboard-drag`),this.focusElement()}disableKeyboardResizeMode(){this.keyboardResizeMode=!1,this.element.classList.remove(`${this.options.classPrefix}-keyboard-resize`)}enablePointerResizeMode({focus:e=!0}={}){if(!this.hasManagedResizeHandles()){this.enableKeyboardResizeMode();return}this.pointerResizeMode||(this.pointerResizeMode=!0,this.setManagedHandlesVisible(!0),this.element.classList.add(`${this.options.classPrefix}-resizable`),this.enableKeyboardResizeMode(),e&&this.focusElement(),typeof this.options.onPointerResizeToggle=="function"&&this.options.onPointerResizeToggle(!0))}disablePointerResizeMode({focus:e=!1}={}){this.pointerResizeMode&&(this.pointerResizeMode=!1,this.setManagedHandlesVisible(!1),this.element.classList.remove(`${this.options.classPrefix}-resizable`),this.disableKeyboardResizeMode(),e&&this.focusElement(),typeof this.options.onPointerResizeToggle=="function"&&this.options.onPointerResizeToggle(!1))}togglePointerResizeMode(){return this.pointerResizeMode?this.disablePointerResizeMode():this.enablePointerResizeMode(),this.pointerResizeMode}focusElement(){if(typeof this.element.focus=="function")try{this.element.focus({preventScroll:!0})}catch{this.element.focus()}}keyboardDrag(e,t){let s=t?this.options.keyboardStepLarge:this.options.keyboardStep,o=parseFloat(this.element.style.left)||0,n=parseFloat(this.element.style.top)||0;if(window.getComputedStyle(this.element).transform!=="none"){let u=this.element.getBoundingClientRect();o=u.left,n=u.top,this.element.style.transform="none",this.element.style.left=`${o}px`,this.element.style.top=`${n}px`}let d=o,a=n;switch(e){case"ArrowLeft":d-=s;break;case"ArrowRight":d+=s;break;case"ArrowUp":a-=s;break;case"ArrowDown":a+=s;break}this.element.style.left=`${d}px`,this.element.style.top=`${a}px`,this.options.onDrag&&this.options.onDrag({x:d,y:a})}keyboardResize(e,t){let s=t?this.options.keyboardStepLarge:this.options.keyboardStep,o=this.element.getBoundingClientRect(),n=o.width,r=o.height;switch(e){case"ArrowLeft":n-=s;break;case"ArrowRight":n+=s;break;case"ArrowUp":this.options.maintainAspectRatio?n+=s:r-=s;break;case"ArrowDown":this.options.maintainAspectRatio?n-=s:r+=s;break}n=Math.max(this.options.minWidth,n),r=Math.max(this.options.minHeight,r),this.element.style.width=`${n}px`,this.options.maintainAspectRatio?this.element.style.height="auto":this.element.style.height=`${r}px`,this.options.onResize&&this.options.onResize({width:n,height:r})}resetPosition(){this.element.style.left="50%",this.element.style.top="50%",this.element.style.transform="translate(-50%, -50%)",this.element.style.right="",this.element.style.bottom="",this.manuallyPositioned=!1,this.options.onDrag&&this.options.onDrag({centered:!0})}destroy(){let e=this.options.dragHandle||this.element;this.disablePointerResizeMode(),e.removeEventListener("mousedown",this.handlers.mousedown),e.removeEventListener("touchstart",this.handlers.touchstart),document.removeEventListener("mousemove",this.handlers.mousemove),document.removeEventListener("mouseup",this.handlers.mouseup),document.removeEventListener("touchmove",this.handlers.touchmove),document.removeEventListener("touchend",this.handlers.touchend),this.element.removeEventListener("keydown",this.handlers.keydown),this.options.resizeHandles&&this.options.resizeHandles.length>0&&this.options.resizeHandles.forEach(t=>{t.removeEventListener("mousedown",this.handlers.resizeHandleMousedown),t.removeEventListener("touchstart",this.handlers.resizeHandleMousedown)}),this.element.classList.remove(`${this.options.classPrefix}-dragging`,`${this.options.classPrefix}-resizing`,`${this.options.classPrefix}-keyboard-drag`,`${this.options.classPrefix}-keyboard-resize`)}};function Z({classPrefix:i,itemClass:e,icon:t,label:s,ariaLabel:o,onClick:n,hasTextClass:r=!1}){let d=typeof s=="string"&&(s.startsWith("transcript.")||s.startsWith("player.")||s.startsWith("settings.")),a=o||d&&p.t(s)||s,u=m.createElement("button",{className:e,attributes:{type:"button","aria-label":a,tabindex:"-1"}});t&&u.appendChild(D(t));let l=typeof s=="string"&&(s.startsWith("transcript.")||s.startsWith("player.")||s.startsWith("settings."))&&p.t(s)||s,c=m.createElement("span",{textContent:l,className:r?`${i}-settings-text`:void 0,attributes:{"aria-hidden":"true"}});return u.appendChild(c),n&&u.addEventListener("click",n),u}function G(i,e,t,s){if(!i)return;let o=Array.from(i.querySelectorAll(t));if(o.length===0)return;let n=r=>{let d=o.indexOf(document.activeElement);switch(r.key){case"ArrowDown":r.preventDefault(),r.stopPropagation();let a=(d+1)%o.length;o.forEach((l,c)=>{l.setAttribute("tabindex",c===a?"0":"-1")}),o[a].focus({preventScroll:!1}),o[a].scrollIntoView({behavior:"smooth",block:"nearest"});break;case"ArrowUp":r.preventDefault(),r.stopPropagation();let u=(d-1+o.length)%o.length;o.forEach((l,c)=>{l.setAttribute("tabindex",c===u?"0":"-1")}),o[u].focus({preventScroll:!1}),o[u].scrollIntoView({behavior:"smooth",block:"nearest"});break;case"Home":r.preventDefault(),r.stopPropagation(),o.forEach((l,c)=>{l.setAttribute("tabindex",c===0?"0":"-1")}),o[0].focus({preventScroll:!1}),o[0].scrollIntoView({behavior:"smooth",block:"nearest"});break;case"End":r.preventDefault(),r.stopPropagation();let h=o.length-1;o.forEach((l,c)=>{l.setAttribute("tabindex",c===h?"0":"-1")}),o[h].focus({preventScroll:!1}),o[h].scrollIntoView({behavior:"smooth",block:"nearest"});break;case"Enter":case" ":r.preventDefault(),r.stopPropagation(),document.activeElement&&o.includes(document.activeElement)&&(document.activeElement.click(),s&&setTimeout(()=>{e&&document.contains(e)&&e.focus()},0));break;case"Escape":r.preventDefault(),r.stopPropagation(),s&&s();break}};return i.addEventListener("keydown",n,!0),n}function ee(i,e,t=0){i&&setTimeout(()=>{let s=Array.from(i.querySelectorAll(e));s.length>0&&(s.forEach((o,n)=>{o.setAttribute("tabindex",n===0?"0":"-1")}),b(s[0],{delay:0}),s[0].scrollIntoView({behavior:"smooth",block:"nearest"}))},t)}function oe({classPrefix:i,labelClass:e,selectClass:t,labelText:s,selectId:o,hidden:n=!1,onChange:r=null,options:d=[]}){let u=typeof s=="string"&&(s.startsWith("transcript.")||s.startsWith("player.")||s.startsWith("settings.")||s.startsWith("captions."))&&p.t(s)||s,h=m.createElement("label",{className:e,textContent:u,attributes:{for:o,style:n?"display: none;":void 0}}),l=m.createElement("select",{className:t,attributes:{id:o,style:n?"display: none;":void 0}});return d.forEach(c=>{let f=m.createElement("option",{textContent:c.text,attributes:{value:c.value,selected:c.selected?"selected":void 0}});l.appendChild(f)}),r&&l.addEventListener("change",r),{label:h,select:l}}function ne(i){i&&["mousedown","click"].forEach(e=>{i.addEventListener(e,t=>{t.stopPropagation()})})}export{m as a,p as b,F as c,D as d,W as e,b as f,X as g,x as h,R as i,Z as j,G as k,ee as l,oe as m,ne as n};

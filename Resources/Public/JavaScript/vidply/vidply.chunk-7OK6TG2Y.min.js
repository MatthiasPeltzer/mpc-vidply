/*!
 * Universal, Accessible Video Player
 * (c) 2026 Matthias Peltzer
 * Released under GPL-2.0-or-later License
 */
import{DOMUtils as e,i18n as t}from"./vidply.chunk-YLKHFL57.min.js";var i=Object.fromEntries(Object.entries({play:'<path d="M8 5v14l11-7z"/>',pause:'<path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>',stop:'<rect x="6" y="6" width="12" height="12"/>',rewind:'<path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"/>',forward:'<path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/>',skipPrevious:'<path d="M6 6h2v12H6V6zm3 6l8.5 6V6L9 12z"/>',skipNext:'<path d="M16 6h2v12h-2V6zM6 6l8.5 6L6 18V6z"/>',restart:'<path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/>',volumeHigh:'<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>',volumeMedium:'<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/>',volumeLow:'<path d="M7 9v6h4l5 5V4l-5 5H7z"/>',volumeMuted:'<path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>',fullscreen:'<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>',fullscreenExit:'<path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/>',settings:'<path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94L14.4 2.81c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>',captions:'<path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"/>',captionsOff:'<path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"/><path d="M0 0h24v24H0z" fill="none"/>',pip:'<path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"/>',speed:'<path d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44z"/><path d="M10.59 15.41a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"/>',close:'<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>',check:'<path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>',loading:'<path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>',error:'<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>',playlist:'<path d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"/>',hd:'<path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v4zm-3.5-.5h2v-3h-2v3z"/>',transcript:'<path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>',chapters:'<path d="M3 5h2v2H3V5zm0 4h2v2H3V9zm0 4h2v2H3v-2zm0 4h2v2H3v-2zM7 5h14v2H7V5zm0 4h14v2H7V9zm0 4h14v2H7v-2zm0 4h14v2H7v-2z"/>',audioDescription:'<rect x="2" y="5" width="20" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="1.5"/><text x="12" y="14.5" text-anchor="middle" font-size="8" font-weight="bold" font-family="Arial, sans-serif" fill="currentColor">AD</text>',audioDescriptionOn:'<rect x="2" y="5" width="20" height="14" rx="2" fill="currentColor"/><text x="12" y="14.5" text-anchor="middle" font-size="8" font-weight="bold" font-family="Arial, sans-serif" class="vidply-icon-ad-fg">AD</text>',signLanguage:'<g transform="scale(1.5)"><path d="M16 11.3c-.1-.9-4.8 1.3-5.4 1.1-2.6-1 5.8-1.3 5.1-2.9s-5.1 1.5-6 1.4C6.5 9.4 16.5 9.1 13.5 8c-1.9-.6-8.8 2.9-6.8.4.7-.6.7-1.9-.7-1.7-9.7 7.2-.7 12.2 8.8 7 0-1.3-3.5.4-4.1.4-2.6 0 5.6-2 5.4-3ZM3.9 7.8c3.2-4.2 3.7 1.2 6 .1s.2-.2.2-.3c.7-2.7 2.5-7.5-1.5-1.3-1.6 0 1.1-4 1-4.6C8.9-1 7.3 4.4 7.2 4.9c-1.6.7-.9-1.4-.7-1.5 3-6-.6-3.1-.9.4-2.5 1.8 0-2.8 0-3.5C2.8-.9 4 9.4 1.1 4.9S.1 4.6 0 5c-.4 2.7 2.6 7.2 3.9 2.8Z"/></g>',signLanguageOn:'<g transform="scale(1.5)"><path d="M16 11.3c-.1-.9-4.8 1.3-5.4 1.1-2.6-1 5.8-1.3 5.1-2.9s-5.1 1.5-6 1.4C6.5 9.4 16.5 9.1 13.5 8c-1.9-.6-8.8 2.9-6.8.4.7-.6.7-1.9-.7-1.7-9.7 7.2-.7 12.2 8.8 7 0-1.3-3.5.4-4.1.4-2.6 0 5.6-2 5.4-3ZM3.9 7.8c3.2-4.2 3.7 1.2 6 .1s.2-.2.2-.3c.7-2.7 2.5-7.5-1.5-1.3-1.6 0 1.1-4 1-4.6C8.9-1 7.3 4.4 7.2 4.9c-1.6.7-.9-1.4-.7-1.5 3-6-.6-3.1-.9.4-2.5 1.8 0-2.8 0-3.5C2.8-.9 4 9.4 1.1 4.9S.1 4.6 0 5c-.4 2.7 2.6 7.2 3.9 2.8Z"/></g>',signLanguagePip:'<g transform="scale(1.2) translate(1, 1)"><path d="M16 11.3c-.1-.9-4.8 1.3-5.4 1.1-2.6-1 5.8-1.3 5.1-2.9s-5.1 1.5-6 1.4C6.5 9.4 16.5 9.1 13.5 8c-1.9-.6-8.8 2.9-6.8.4.7-.6.7-1.9-.7-1.7-9.7 7.2-.7 12.2 8.8 7 0-1.3-3.5.4-4.1.4-2.6 0 5.6-2 5.4-3ZM3.9 7.8c3.2-4.2 3.7 1.2 6 .1s.2-.2.2-.3c.7-2.7 2.5-7.5-1.5-1.3-1.6 0 1.1-4 1-4.6C8.9-1 7.3 4.4 7.2 4.9c-1.6.7-.9-1.4-.7-1.5 3-6-.6-3.1-.9.4-2.5 1.8 0-2.8 0-3.5C2.8-.9 4 9.4 1.1 4.9S.1 4.6 0 5c-.4 2.7 2.6 7.2 3.9 2.8Z"/></g><polygon points="14,23 23,14 23,23" fill="currentColor"/>',signLanguagePipOn:'<g transform="scale(1.2) translate(1, 1)"><path d="M16 11.3c-.1-.9-4.8 1.3-5.4 1.1-2.6-1 5.8-1.3 5.1-2.9s-5.1 1.5-6 1.4C6.5 9.4 16.5 9.1 13.5 8c-1.9-.6-8.8 2.9-6.8.4.7-.6.7-1.9-.7-1.7-9.7 7.2-.7 12.2 8.8 7 0-1.3-3.5.4-4.1.4-2.6 0 5.6-2 5.4-3ZM3.9 7.8c3.2-4.2 3.7 1.2 6 .1s.2-.2.2-.3c.7-2.7 2.5-7.5-1.5-1.3-1.6 0 1.1-4 1-4.6C8.9-1 7.3 4.4 7.2 4.9c-1.6.7-.9-1.4-.7-1.5 3-6-.6-3.1-.9.4-2.5 1.8 0-2.8 0-3.5C2.8-.9 4 9.4 1.1 4.9S.1 4.6 0 5c-.4 2.7 2.6 7.2 3.9 2.8Z"/></g><polygon points="14,23 23,14 23,23" fill="currentColor"/>',music:'<path d="M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7zm-1.5 16c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>',moreVertical:'<path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>',move:'<path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"/>',resize:'<path d="M21.71 11.29l-9-9c-.39-.39-1.02-.39-1.41 0l-9 9c-.39.39-.39 1.02 0 1.41l9 9c.39.39 1.02.39 1.41 0l9-9c.39-.38.39-1.01 0-1.41zM14 14.5V12h-4v2.5L7 11l3-3.5V10h4V7.5l3 3.5-3 3.5z"/>',clock:'<path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>'}).map(([e,t])=>{return[e,(i=t,`<svg viewBox="0 0 24 24" fill="currentColor">${i}</svg>`)];var i}));function s(e,t=""){const s=document.createElement("span");return s.className=`vidply-icon ${t}`.trim(),s.innerHTML=(e=>i[e]||i.play)(e),s.setAttribute("aria-hidden","true"),s}function n(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("class","vidply-play-overlay"),e.setAttribute("viewBox","0 0 80 80"),e.setAttribute("width","80"),e.setAttribute("height","80"),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.cursor="pointer";const t=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=`vidply-play-shadow-${Math.random().toString(36).substr(2,9)}`,s=document.createElementNS("http://www.w3.org/2000/svg","filter");s.setAttribute("id",i),s.setAttribute("x","-50%"),s.setAttribute("y","-50%"),s.setAttribute("width","200%"),s.setAttribute("height","200%");const n=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");n.setAttribute("in","SourceAlpha"),n.setAttribute("stdDeviation","3");const o=document.createElementNS("http://www.w3.org/2000/svg","feOffset");o.setAttribute("dx","0"),o.setAttribute("dy","2"),o.setAttribute("result","offsetblur");const r=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer"),a=document.createElementNS("http://www.w3.org/2000/svg","feFuncA");a.setAttribute("type","linear"),a.setAttribute("slope","0.3"),r.appendChild(a);const h=document.createElementNS("http://www.w3.org/2000/svg","feMerge"),l=document.createElementNS("http://www.w3.org/2000/svg","feMergeNode"),d=document.createElementNS("http://www.w3.org/2000/svg","feMergeNode");d.setAttribute("in","SourceGraphic"),h.appendChild(l),h.appendChild(d),s.appendChild(n),s.appendChild(o),s.appendChild(r),s.appendChild(h),t.appendChild(s),e.appendChild(t);const c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttribute("cx","40"),c.setAttribute("cy","40"),c.setAttribute("r","40"),c.setAttribute("fill","rgba(255, 255, 255, 0.95)"),c.setAttribute("filter",`url(#${i})`),c.setAttribute("class","vidply-play-overlay-bg"),e.appendChild(c);const p=document.createElementNS("http://www.w3.org/2000/svg","polygon");return p.setAttribute("points","32,28 32,52 54,40"),p.setAttribute("fill","#0a406e"),p.setAttribute("class","vidply-play-overlay-icon"),e.appendChild(p),e}function o(e,{delay:t=0,preventScroll:i=!0}={}){e&&requestAnimationFrame(()=>{setTimeout(()=>{e&&document.contains(e)&&e.focus({preventScroll:i})},t)})}function r(e,t,i={}){if(!e)return;const s=e.querySelector(t);s&&o(s,i)}var a=class{constructor(e,t={}){this.element=e,this.options={dragHandle:null,resizeHandles:[],onDragStart:null,onDrag:null,onDragEnd:null,onResizeStart:null,onResize:null,onResizeEnd:null,constrainToViewport:!0,minWidth:150,minHeight:100,maintainAspectRatio:!1,keyboardDragKey:"d",keyboardResizeKey:"r",keyboardStep:5,keyboardStepLarge:10,maxWidth:null,maxHeight:null,pointerResizeIndicatorText:null,onPointerResizeToggle:null,classPrefix:"draggable",storage:null,storageKey:null,...t},this.isDragging=!1,this.isResizing=!1,this.resizeDirection=null,this.dragOffsetX=0,this.dragOffsetY=0,this.positionOffsetX=0,this.positionOffsetY=0,this.initialMouseX=0,this.initialMouseY=0,this.needsPositionConversion=!1,this.resizeStartX=0,this.resizeStartY=0,this.resizeStartWidth=0,this.resizeStartHeight=0,this.resizeStartLeft=0,this.resizeStartTop=0,this.keyboardDragMode=!1,this.keyboardResizeMode=!1,this.pointerResizeMode=!1,this.manuallyPositioned=!1,this.resizeHandlesManaged=new Map,this.resizeIndicatorElement=null,this.handlers={mousedown:this.onMouseDown.bind(this),mousemove:this.onMouseMove.bind(this),mouseup:this.onMouseUp.bind(this),touchstart:this.onTouchStart.bind(this),touchmove:this.onTouchMove.bind(this),touchend:this.onTouchEnd.bind(this),pointerdown:this.onPointerDown.bind(this),pointermove:this.onPointerMove.bind(this),pointerup:this.onPointerUp.bind(this),pointercancel:this.onPointerUp.bind(this),keydown:this.onKeyDown.bind(this),resizeHandleMousedown:this.onResizeHandleMouseDown.bind(this),resizeHandlePointerDown:this.onResizeHandlePointerDown.bind(this)},this.activePointerId=null,this.activePointerType=null,this.init()}hasManagedResizeHandles(){return Array.from(this.resizeHandlesManaged.values()).some(Boolean)}storeOriginalHandleDisplay(e){e.dataset.originalDisplay||(e.dataset.originalDisplay=e.style.display||"")}hideResizeHandle(e){e.style.display="none",e.setAttribute("aria-hidden","true")}showResizeHandle(e){e.style.display=void 0!==e.dataset.originalDisplay?e.dataset.originalDisplay:"",e.removeAttribute("aria-hidden")}setManagedHandlesVisible(e){this.options.resizeHandles&&0!==this.options.resizeHandles.length&&this.options.resizeHandles.forEach(t=>{this.resizeHandlesManaged.get(t)&&(e?this.showResizeHandle(t):this.hideResizeHandle(t))})}init(){const e=this.options.dragHandle||this.element;"undefined"!=typeof window&&"PointerEvent"in window?(e.addEventListener("pointerdown",this.handlers.pointerdown),document.addEventListener("pointermove",this.handlers.pointermove,{passive:!1}),document.addEventListener("pointerup",this.handlers.pointerup),document.addEventListener("pointercancel",this.handlers.pointercancel)):(e.addEventListener("mousedown",this.handlers.mousedown),e.addEventListener("touchstart",this.handlers.touchstart,{passive:!1}),document.addEventListener("mousemove",this.handlers.mousemove),document.addEventListener("mouseup",this.handlers.mouseup),document.addEventListener("touchmove",this.handlers.touchmove,{passive:!1}),document.addEventListener("touchend",this.handlers.touchend)),this.element.addEventListener("keydown",this.handlers.keydown),this.options.resizeHandles&&this.options.resizeHandles.length>0&&this.options.resizeHandles.forEach(e=>{"undefined"!=typeof window&&"PointerEvent"in window?e.addEventListener("pointerdown",this.handlers.resizeHandlePointerDown):(e.addEventListener("mousedown",this.handlers.resizeHandleMousedown),e.addEventListener("touchstart",this.handlers.resizeHandleMousedown,{passive:!1}));const t="true"===e.dataset.vidplyManagedResize;this.resizeHandlesManaged.set(e,t),t&&(this.storeOriginalHandleDisplay(e),this.hideResizeHandle(e))})}onPointerDown(e){if(!1!==e.isPrimary&&("mouse"!==e.pointerType||0===e.button)&&!e.target.classList.contains(`${this.options.classPrefix}-resize-handle`)&&(!this.options.onDragStart||this.options.onDragStart(e))){this.activePointerId=e.pointerId,this.activePointerType=e.pointerType;try{e.currentTarget?.setPointerCapture?.(e.pointerId)}catch{}this.startDragging(e.clientX,e.clientY),e.preventDefault()}}onPointerMove(e){null!==this.activePointerId&&e.pointerId!==this.activePointerId||(this.isDragging?(this.drag(e.clientX,e.clientY),e.preventDefault()):this.isResizing&&(this.resize(e.clientX,e.clientY),e.preventDefault()))}onPointerUp(e){null!==this.activePointerId&&e.pointerId!==this.activePointerId||(this.isDragging?this.stopDragging():this.isResizing&&this.stopResizing(),this.activePointerId=null,this.activePointerType=null)}onMouseDown(e){e.target.classList.contains(`${this.options.classPrefix}-resize-handle`)||this.options.onDragStart&&!this.options.onDragStart(e)||(this.startDragging(e.clientX,e.clientY),e.preventDefault())}onTouchStart(e){if(e.target.classList.contains(`${this.options.classPrefix}-resize-handle`))return;if(this.options.onDragStart&&!this.options.onDragStart(e))return;const t=e.touches[0];this.startDragging(t.clientX,t.clientY),e.preventDefault()}onResizeHandlePointerDown(e){if(!1!==e.isPrimary&&("mouse"!==e.pointerType||0===e.button)){e.preventDefault(),e.stopPropagation(),this.resizeDirection=e.target.getAttribute("data-direction"),this.activePointerId=e.pointerId,this.activePointerType=e.pointerType;try{e.currentTarget?.setPointerCapture?.(e.pointerId)}catch{}this.startResizing(e.clientX,e.clientY)}}onResizeHandleMouseDown(e){e.preventDefault(),e.stopPropagation(),this.resizeDirection=e.target.getAttribute("data-direction"),this.startResizing(e.clientX||e.touches?.[0]?.clientX,e.clientY||e.touches?.[0]?.clientY)}onMouseMove(e){this.isDragging?(this.drag(e.clientX,e.clientY),e.preventDefault()):this.isResizing&&(this.resize(e.clientX,e.clientY),e.preventDefault())}onTouchMove(e){if(this.isDragging||this.isResizing){const t=e.touches[0];this.isDragging?this.drag(t.clientX,t.clientY):this.resize(t.clientX,t.clientY),e.preventDefault()}}onMouseUp(){this.isDragging?this.stopDragging():this.isResizing&&this.stopResizing()}onTouchEnd(){this.isDragging?this.stopDragging():this.isResizing&&this.stopResizing()}onKeyDown(e){if(e.key.toLowerCase()===this.options.keyboardDragKey.toLowerCase())return e.preventDefault(),void this.toggleKeyboardDragMode();if(e.key.toLowerCase()===this.options.keyboardResizeKey.toLowerCase())return e.preventDefault(),void(this.hasManagedResizeHandles()?this.togglePointerResizeMode():this.toggleKeyboardResizeMode());if("Escape"===e.key){if(this.pointerResizeMode)return e.preventDefault(),void this.disablePointerResizeMode();if(this.keyboardDragMode||this.keyboardResizeMode)return e.preventDefault(),this.disableKeyboardDragMode(),void this.disableKeyboardResizeMode()}["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e.key)&&(this.keyboardDragMode?(e.preventDefault(),e.stopPropagation(),this.keyboardDrag(e.key,e.shiftKey)):this.keyboardResizeMode&&(e.preventDefault(),e.stopPropagation(),this.keyboardResize(e.key,e.shiftKey))),"Home"===e.key&&(this.keyboardDragMode||this.keyboardResizeMode)&&(e.preventDefault(),this.resetPosition())}startDragging(e,t){const i=this.element.getBoundingClientRect(),s=window.getComputedStyle(this.element),n="auto"!==s.right||"auto"!==s.bottom||"none"!==s.transform;if(this.positionOffsetX=0,this.positionOffsetY=0,n){let e,t;if("absolute"===s.position){const s=(this.element.offsetParent||document.body).getBoundingClientRect();e=i.left-s.left,t=i.top-s.top,this.positionOffsetX=s.left,this.positionOffsetY=s.top}else if("fixed"===s.position){const n=parseFloat(s.left),o=parseFloat(s.top),r=Number.isFinite(n),a=Number.isFinite(o);e=r?n:i.left,t=a?o:i.top,this.positionOffsetX=i.left-e,this.positionOffsetY=i.top-t}else e=i.left,t=i.top,this.positionOffsetX=i.left-e,this.positionOffsetY=i.top-t;let n=this.element.style.cssText.split(";").filter(e=>{const t=e.trim();if(!t)return!1;const i=t.indexOf(":");if(-1===i)return!1;const s=t.substring(0,i).trim(),n=t.substring(i+1).trim();return!(!n||""===n||"right"===s||"bottom"===s||"transform"===s||"left"===s||"top"===s||"inset"===s||s.startsWith("border-image"))}).join("; ");n&&(n+="; "),n+=`left: ${e}px; top: ${t}px; right: auto; bottom: auto; transform: none`,this.element.style.cssText=n}const o=this.element.getBoundingClientRect();this.dragOffsetX=e-o.left,this.dragOffsetY=t-o.top,this.isDragging=!0,this.element.classList.add(`${this.options.classPrefix}-dragging`),document.body.style.cursor="grabbing",document.body.style.userSelect="none"}drag(e,t){if(!this.isDragging)return;let i=e-this.dragOffsetX-this.positionOffsetX,s=t-this.dragOffsetY-this.positionOffsetY;if(this.options.constrainToViewport){const e=this.element.getBoundingClientRect(),t=document.documentElement.clientWidth,n=document.documentElement.clientHeight,o=100,r=-(e.height-o),a=n-o;i=Math.max(-(e.width-o),Math.min(i,t-o)),s=Math.max(r,Math.min(s,a))}this.element.style.left=`${i}px`,this.element.style.top=`${s}px`,this.options.onDrag&&this.options.onDrag({x:i,y:s})}stopDragging(){this.isDragging=!1,this.element.classList.remove(`${this.options.classPrefix}-dragging`),document.body.style.cursor="",document.body.style.userSelect="",this.manuallyPositioned=!0,this.options.onDragEnd&&this.options.onDragEnd()}startResizing(e,t){this.isResizing=!0,this.resizeStartX=e,this.resizeStartY=t;const i=this.element.getBoundingClientRect();this.resizeStartWidth=i.width,this.resizeStartHeight=i.height,this.resizeStartLeft=i.left,this.resizeStartTop=i.top,this.element.classList.add(`${this.options.classPrefix}-resizing`),document.body.style.userSelect="none",this.options.onResizeStart&&this.options.onResizeStart()}resize(e,t){if(!this.isResizing)return;const i=e-this.resizeStartX,s=t-this.resizeStartY;let n=this.resizeStartWidth,o=this.resizeStartHeight,r=this.resizeStartLeft,a=this.resizeStartTop;if(this.resizeDirection.includes("e")&&(n=Math.max(this.options.minWidth,this.resizeStartWidth+i)),this.resizeDirection.includes("w")){const e=Math.max(this.options.minWidth,this.resizeStartWidth-i);r=this.resizeStartLeft+(this.resizeStartWidth-e),n=e}const h="function"==typeof this.options.maxWidth?this.options.maxWidth():this.options.maxWidth;if(Number.isFinite(h)){const e=Math.min(n,h);e!==n&&this.resizeDirection.includes("w")&&(r+=n-e),n=e}if(!this.options.maintainAspectRatio){if(this.resizeDirection.includes("s")&&(o=Math.max(this.options.minHeight,this.resizeStartHeight+s)),this.resizeDirection.includes("n")){const e=Math.max(this.options.minHeight,this.resizeStartHeight-s);a=this.resizeStartTop+(this.resizeStartHeight-e),o=e}const e="function"==typeof this.options.maxHeight?this.options.maxHeight():this.options.maxHeight;if(Number.isFinite(e)){const t=Math.min(o,e);t!==o&&this.resizeDirection.includes("n")&&(a+=o-t),o=t}}this.element.style.width=`${n}px`,this.element.style.height=this.options.maintainAspectRatio?"auto":`${o}px`,this.resizeDirection.includes("w")&&(this.element.style.left=`${r}px`),this.resizeDirection.includes("n")&&!this.options.maintainAspectRatio&&(this.element.style.top=`${a}px`),this.options.onResize&&this.options.onResize({width:n,height:o,left:r,top:a})}stopResizing(){this.isResizing=!1,this.resizeDirection=null,this.element.classList.remove(`${this.options.classPrefix}-resizing`),document.body.style.userSelect="",this.manuallyPositioned=!0,this.options.onResizeEnd&&this.options.onResizeEnd()}toggleKeyboardDragMode(){this.keyboardDragMode?this.disableKeyboardDragMode():this.enableKeyboardDragMode()}enableKeyboardDragMode(){this.keyboardDragMode=!0,this.keyboardResizeMode=!1,this.element.classList.add(`${this.options.classPrefix}-keyboard-drag`),this.element.classList.remove(`${this.options.classPrefix}-keyboard-resize`),this.focusElement()}disableKeyboardDragMode(){this.keyboardDragMode=!1,this.element.classList.remove(`${this.options.classPrefix}-keyboard-drag`)}toggleKeyboardResizeMode(){this.keyboardResizeMode?this.disableKeyboardResizeMode():this.enableKeyboardResizeMode()}enableKeyboardResizeMode(){this.keyboardResizeMode=!0,this.keyboardDragMode=!1,this.element.classList.add(`${this.options.classPrefix}-keyboard-resize`),this.element.classList.remove(`${this.options.classPrefix}-keyboard-drag`),this.focusElement()}disableKeyboardResizeMode(){this.keyboardResizeMode=!1,this.element.classList.remove(`${this.options.classPrefix}-keyboard-resize`)}enablePointerResizeMode({focus:e=!0}={}){this.hasManagedResizeHandles()?this.pointerResizeMode||(this.pointerResizeMode=!0,this.setManagedHandlesVisible(!0),this.element.classList.add(`${this.options.classPrefix}-resizable`),this.enableKeyboardResizeMode(),e&&this.focusElement(),"function"==typeof this.options.onPointerResizeToggle&&this.options.onPointerResizeToggle(!0)):this.enableKeyboardResizeMode()}disablePointerResizeMode({focus:e=!1}={}){this.pointerResizeMode&&(this.pointerResizeMode=!1,this.setManagedHandlesVisible(!1),this.element.classList.remove(`${this.options.classPrefix}-resizable`),this.disableKeyboardResizeMode(),e&&this.focusElement(),"function"==typeof this.options.onPointerResizeToggle&&this.options.onPointerResizeToggle(!1))}togglePointerResizeMode(){return this.pointerResizeMode?this.disablePointerResizeMode():this.enablePointerResizeMode(),this.pointerResizeMode}focusElement(){if("function"==typeof this.element.focus)try{this.element.focus({preventScroll:!0})}catch(e){this.element.focus()}}keyboardDrag(e,t){const i=t?this.options.keyboardStepLarge:this.options.keyboardStep;let s=parseFloat(this.element.style.left)||0,n=parseFloat(this.element.style.top)||0;if("none"!==window.getComputedStyle(this.element).transform){const e=this.element.getBoundingClientRect();s=e.left,n=e.top,this.element.style.transform="none",this.element.style.left=`${s}px`,this.element.style.top=`${n}px`}let o=s,r=n;switch(e){case"ArrowLeft":o-=i;break;case"ArrowRight":o+=i;break;case"ArrowUp":r-=i;break;case"ArrowDown":r+=i}this.element.style.left=`${o}px`,this.element.style.top=`${r}px`,this.options.onDrag&&this.options.onDrag({x:o,y:r})}keyboardResize(e,t){const i=t?this.options.keyboardStepLarge:this.options.keyboardStep,s=this.element.getBoundingClientRect();let n=s.width,o=s.height;switch(e){case"ArrowLeft":n-=i;break;case"ArrowRight":n+=i;break;case"ArrowUp":this.options.maintainAspectRatio?n+=i:o-=i;break;case"ArrowDown":this.options.maintainAspectRatio?n-=i:o+=i}n=Math.max(this.options.minWidth,n),o=Math.max(this.options.minHeight,o),this.element.style.width=`${n}px`,this.element.style.height=this.options.maintainAspectRatio?"auto":`${o}px`,this.options.onResize&&this.options.onResize({width:n,height:o})}resetPosition(){this.element.style.left="50%",this.element.style.top="50%",this.element.style.transform="translate(-50%, -50%)",this.element.style.right="",this.element.style.bottom="",this.manuallyPositioned=!1,this.options.onDrag&&this.options.onDrag({centered:!0})}destroy(){const e=this.options.dragHandle||this.element;this.disablePointerResizeMode(),e.removeEventListener("mousedown",this.handlers.mousedown),e.removeEventListener("touchstart",this.handlers.touchstart),e.removeEventListener("pointerdown",this.handlers.pointerdown),document.removeEventListener("mousemove",this.handlers.mousemove),document.removeEventListener("mouseup",this.handlers.mouseup),document.removeEventListener("touchmove",this.handlers.touchmove),document.removeEventListener("touchend",this.handlers.touchend),document.removeEventListener("pointermove",this.handlers.pointermove),document.removeEventListener("pointerup",this.handlers.pointerup),document.removeEventListener("pointercancel",this.handlers.pointercancel),this.element.removeEventListener("keydown",this.handlers.keydown),this.options.resizeHandles&&this.options.resizeHandles.length>0&&this.options.resizeHandles.forEach(e=>{e.removeEventListener("mousedown",this.handlers.resizeHandleMousedown),e.removeEventListener("touchstart",this.handlers.resizeHandleMousedown),e.removeEventListener("pointerdown",this.handlers.resizeHandlePointerDown)}),this.element.classList.remove(`${this.options.classPrefix}-dragging`,`${this.options.classPrefix}-resizing`,`${this.options.classPrefix}-keyboard-drag`,`${this.options.classPrefix}-keyboard-resize`)}};function h({classPrefix:i,itemClass:n,icon:o,label:r,ariaLabel:a,onClick:h,hasTextClass:l=!1}){const d="string"==typeof r&&(r.startsWith("transcript.")||r.startsWith("player.")||r.startsWith("settings.")),c=a||d&&t.t(r)||r,p=e.createElement("button",{className:n,attributes:{type:"button","aria-label":c,tabindex:"-1"}});o&&p.appendChild(s(o));const u="string"==typeof r&&(r.startsWith("transcript.")||r.startsWith("player.")||r.startsWith("settings."))&&t.t(r)||r,g=e.createElement("span",{textContent:u,className:l?`${i}-settings-text`:void 0,attributes:{"aria-hidden":"true"}});return p.appendChild(g),h&&p.addEventListener("click",h),p}function l(e,t,i,s){if(!e)return;const n=Array.from(e.querySelectorAll(i));if(0===n.length)return;const o=e=>{const i=n.indexOf(document.activeElement);switch(e.key){case"ArrowDown":e.preventDefault(),e.stopPropagation();const o=(i+1)%n.length;n.forEach((e,t)=>{e.setAttribute("tabindex",t===o?"0":"-1")}),n[o].focus({preventScroll:!1}),n[o].scrollIntoView({behavior:"smooth",block:"nearest"});break;case"ArrowUp":e.preventDefault(),e.stopPropagation();const r=(i-1+n.length)%n.length;n.forEach((e,t)=>{e.setAttribute("tabindex",t===r?"0":"-1")}),n[r].focus({preventScroll:!1}),n[r].scrollIntoView({behavior:"smooth",block:"nearest"});break;case"Home":e.preventDefault(),e.stopPropagation(),n.forEach((e,t)=>{e.setAttribute("tabindex",0===t?"0":"-1")}),n[0].focus({preventScroll:!1}),n[0].scrollIntoView({behavior:"smooth",block:"nearest"});break;case"End":e.preventDefault(),e.stopPropagation();const a=n.length-1;n.forEach((e,t)=>{e.setAttribute("tabindex",t===a?"0":"-1")}),n[a].focus({preventScroll:!1}),n[a].scrollIntoView({behavior:"smooth",block:"nearest"});break;case"Enter":case" ":e.preventDefault(),e.stopPropagation(),document.activeElement&&n.includes(document.activeElement)&&(document.activeElement.click(),s&&setTimeout(()=>{t&&document.contains(t)&&t.focus()},0));break;case"Escape":e.preventDefault(),e.stopPropagation(),s&&s()}};return e.addEventListener("keydown",o,!0),o}function d(e,t,i=0){e&&setTimeout(()=>{const i=Array.from(e.querySelectorAll(t));i.length>0&&(i.forEach((e,t)=>{e.setAttribute("tabindex",0===t?"0":"-1")}),o(i[0],{delay:0}),i[0].scrollIntoView({behavior:"smooth",block:"nearest"}))},i)}function c({labelClass:i,selectClass:s,labelText:n,selectId:o,hidden:r=!1,onChange:a=null,options:h=[]}){const l="string"==typeof n&&(n.startsWith("transcript.")||n.startsWith("player.")||n.startsWith("settings.")||n.startsWith("captions."))&&t.t(n)||n,d=e.createElement("label",{className:i,textContent:l,attributes:{for:o,style:r?"display: none;":void 0}}),c=e.createElement("select",{className:s,attributes:{id:o,style:r?"display: none;":void 0}});return h.forEach(t=>{const i=e.createElement("option",{textContent:t.text,attributes:{value:t.value,selected:t.selected?"selected":void 0}});c.appendChild(i)}),a&&c.addEventListener("change",a),{label:d,select:c}}function p(e){e&&["mousedown","click"].forEach(t=>{e.addEventListener(t,e=>{e.stopPropagation()})})}export{s as createIconElement,n as createPlayOverlay,o as focusElement,r as focusFirstElement,a as DraggableResizable,h as createMenuItem,l as attachMenuKeyboardNavigation,d as focusFirstMenuItem,c as createLabeledSelect,p as preventDragOnElement};
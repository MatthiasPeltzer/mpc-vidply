{
  "version": 3,
  "sources": ["../../src/renderers/HLSRenderer.js"],
  "sourcesContent": ["/**\r\n * HLS Streaming Renderer\r\n * Uses hls.js for browsers that don't natively support HLS\r\n */\r\n\r\nexport class HLSRenderer {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.media = player.element;\r\n    this.hls = null;\r\n    this._hlsSourceLoaded = false;\r\n    this._pendingSrc = null;\r\n  }\r\n\r\n  async init() {\r\n    // Check if browser natively supports HLS (Safari)\r\n    if (this.canPlayNatively()) {\r\n      this.player.log('Using native HLS support');\r\n      await this.initNative();\r\n    } else {\r\n      this.player.log('Using hls.js for HLS support');\r\n      await this.initHlsJs();\r\n    }\r\n  }\r\n\r\n  canPlayNatively() {\r\n    // Only use native HLS on Safari/iOS where it actually works properly\r\n    // Chrome reports it can play HLS but doesn't have proper quality switching\r\n    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n    \r\n    if (!isSafari && !isIOS) {\r\n      // Force hls.js on non-Safari browsers for proper quality switching\r\n      return false;\r\n    }\r\n    \r\n    const video = document.createElement('video');\r\n    return video.canPlayType('application/vnd.apple.mpegurl') !== '';\r\n  }\r\n\r\n  async initNative() {\r\n    // Use HTML5 renderer for native HLS support\r\n    const HTML5Renderer = (await import('./HTML5Renderer.js')).HTML5Renderer;\r\n    const renderer = new HTML5Renderer(this.player);\r\n    await renderer.init();\r\n    \r\n    // Copy methods\r\n    Object.getOwnPropertyNames(Object.getPrototypeOf(renderer)).forEach(method => {\r\n      if (method !== 'constructor' && typeof renderer[method] === 'function') {\r\n        this[method] = renderer[method].bind(renderer);\r\n      }\r\n    });\r\n  }\r\n\r\n  async initHlsJs() {\r\n    // Hide native controls\r\n    this.media.controls = false;\r\n    this.media.removeAttribute('controls');\r\n    \r\n    // Load hls.js if not already loaded\r\n    if (!window.Hls) {\r\n      await this.loadHlsJs();\r\n    }\r\n\r\n    if (!window.Hls.isSupported()) {\r\n      throw new Error('HLS is not supported in this browser');\r\n    }\r\n\r\n    // Create hls.js instance with better error recovery\r\n    this.hls = new window.Hls({\r\n      debug: this.player.options.debug,\r\n      // When deferLoad is enabled, do not start loading until the first play().\r\n      autoStartLoad: !this.player.options.deferLoad,\r\n      enableWorker: true,\r\n      lowLatencyMode: false,\r\n      backBufferLength: 90,\r\n      maxBufferLength: 30,\r\n      maxMaxBufferLength: 600,\r\n      maxBufferSize: 60 * 1000 * 1000,\r\n      maxBufferHole: 0.5,\r\n      // Network retry settings\r\n      manifestLoadingTimeOut: 10000,\r\n      manifestLoadingMaxRetry: 4,\r\n      manifestLoadingRetryDelay: 1000,\r\n      manifestLoadingMaxRetryTimeout: 64000,\r\n      levelLoadingTimeOut: 10000,\r\n      levelLoadingMaxRetry: 4,\r\n      levelLoadingRetryDelay: 1000,\r\n      levelLoadingMaxRetryTimeout: 64000,\r\n      fragLoadingTimeOut: 20000,\r\n      fragLoadingMaxRetry: 6,\r\n      fragLoadingRetryDelay: 1000,\r\n      fragLoadingMaxRetryTimeout: 64000\r\n    });\r\n\r\n    // Attach media element\r\n    this.hls.attachMedia(this.media);\r\n\r\n    // Load source - use currentSource for external renderers, or get from attribute\r\n    let src = this.player.currentSource;\r\n    \r\n    if (!src) {\r\n      const sourceElement = this.player.element.querySelector('source');\r\n      if (sourceElement) {\r\n        // Use getAttribute to get the original URL, not the blob-converted one\r\n        src = sourceElement.getAttribute('src');\r\n      } else {\r\n        // Fallback to element's src attribute\r\n        src = this.player.element.getAttribute('src') || this.player.element.src;\r\n      }\r\n    }\r\n    \r\n    this.player.log(`Loading HLS source: ${src}`, 'log');\r\n    \r\n    if (!src) {\r\n      throw new Error('No HLS source found');\r\n    }\r\n    \r\n    if (this.player.options.deferLoad) {\r\n      // Defer manifest/segment loading until first play()\r\n      this._pendingSrc = src;\r\n    } else {\r\n      this.hls.loadSource(src);\r\n      this._hlsSourceLoaded = true;\r\n    }\r\n\r\n    // Attach events\r\n    this.attachHlsEvents();\r\n    this.attachMediaEvents();\r\n  }\r\n\r\n  async loadHlsJs() {\r\n    return new Promise((resolve, reject) => {\r\n      const script = document.createElement('script');\r\n      script.src = 'https://cdn.jsdelivr.net/npm/hls.js@latest';\r\n      script.onload = () => resolve();\r\n      script.onerror = () => reject(new Error('Failed to load hls.js'));\r\n      document.head.appendChild(script);\r\n    });\r\n  }\r\n\r\n  attachHlsEvents() {\r\n    this.hls.on(window.Hls.Events.MANIFEST_PARSED, (event, data) => {\r\n      this.player.log('HLS manifest loaded, found ' + data.levels.length + ' quality levels');\r\n      this.player.emit('hlsmanifestparsed', data);\r\n      \r\n      // Show VidPly controls (remove external controls class if present)\r\n      if (this.player.container) {\r\n        this.player.container.classList.remove('vidply-external-controls');\r\n      }\r\n    });\r\n\r\n    this.hls.on(window.Hls.Events.LEVEL_SWITCHED, (event, data) => {\r\n      this.player.log('HLS level switched to ' + data.level);\r\n      this.player.emit('hlslevelswitched', data);\r\n    });\r\n\r\n    this.hls.on(window.Hls.Events.ERROR, (event, data) => {\r\n      this.handleHlsError(data);\r\n    });\r\n\r\n    this.hls.on(window.Hls.Events.FRAG_BUFFERED, () => {\r\n      this.player.state.buffering = false;\r\n    });\r\n  }\r\n\r\n  attachMediaEvents() {\r\n    // Use same events as HTML5 renderer\r\n    this.media.addEventListener('loadedmetadata', () => {\r\n      this.player.state.duration = this.media.duration;\r\n      this.player.emit('loadedmetadata');\r\n    });\r\n\r\n    this.media.addEventListener('play', () => {\r\n      this.player.state.playing = true;\r\n      this.player.state.paused = false;\r\n      this.player.state.ended = false;\r\n      this.player.emit('play');\r\n      \r\n      if (this.player.options.onPlay) {\r\n        this.player.options.onPlay.call(this.player);\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('pause', () => {\r\n      this.player.state.playing = false;\r\n      this.player.state.paused = true;\r\n      this.player.emit('pause');\r\n      \r\n      if (this.player.options.onPause) {\r\n        this.player.options.onPause.call(this.player);\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('ended', () => {\r\n      this.player.state.playing = false;\r\n      this.player.state.paused = true;\r\n      this.player.state.ended = true;\r\n      this.player.emit('ended');\r\n      \r\n      if (this.player.options.onEnded) {\r\n        this.player.options.onEnded.call(this.player);\r\n      }\r\n      \r\n      if (this.player.options.loop) {\r\n        this.player.seek(0);\r\n        this.player.play();\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('timeupdate', () => {\r\n      this.player.state.currentTime = this.media.currentTime;\r\n      this.player.emit('timeupdate', this.media.currentTime);\r\n      \r\n      if (this.player.options.onTimeUpdate) {\r\n        this.player.options.onTimeUpdate.call(this.player, this.media.currentTime);\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('volumechange', () => {\r\n      this.player.state.volume = this.media.volume;\r\n      this.player.state.muted = this.media.muted;\r\n      this.player.emit('volumechange', this.media.volume);\r\n    });\r\n\r\n    this.media.addEventListener('waiting', () => {\r\n      this.player.state.buffering = true;\r\n      this.player.emit('waiting');\r\n    });\r\n\r\n    this.media.addEventListener('canplay', () => {\r\n      this.player.state.buffering = false;\r\n      this.player.emit('canplay');\r\n    });\r\n\r\n    this.media.addEventListener('error', () => {\r\n      this.player.handleError(this.media.error);\r\n    });\r\n  }\r\n\r\n  handleHlsError(data) {\r\n    // Log detailed error info\r\n    this.player.log(`HLS Error - Type: ${data.type}, Details: ${data.details}, Fatal: ${data.fatal}`, 'warn');\r\n    if (data.response) {\r\n      this.player.log(`Response code: ${data.response.code}, URL: ${data.response.url}`, 'warn');\r\n    }\r\n    \r\n    if (data.fatal) {\r\n      switch (data.type) {\r\n        case window.Hls.ErrorTypes.NETWORK_ERROR:\r\n          this.player.log('Fatal network error, trying to recover...', 'error');\r\n          this.player.log(`Network error details: ${data.details}`, 'error');\r\n          setTimeout(() => {\r\n            this.hls.startLoad();\r\n          }, 1000);\r\n          break;\r\n          \r\n        case window.Hls.ErrorTypes.MEDIA_ERROR:\r\n          this.player.log('Fatal media error, trying to recover...', 'error');\r\n          this.hls.recoverMediaError();\r\n          break;\r\n          \r\n        default:\r\n          this.player.log('Fatal error, cannot recover', 'error');\r\n          this.player.handleError(new Error(`HLS Error: ${data.type} - ${data.details}`));\r\n          this.hls.destroy();\r\n          break;\r\n      }\r\n    } else {\r\n      this.player.log('Non-fatal HLS error: ' + data.details, 'warn');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Ensure the HLS manifest/initial loading is started without starting playback.\r\n   * This makes playlist selection behave more like single-video initialization.\r\n   */\r\n  ensureLoaded() {\r\n    if (!this.player.options.deferLoad) {\r\n      return;\r\n    }\r\n\r\n    // Native HLS path delegates to HTML5Renderer; if we got here and have no hls.js instance,\r\n    // there's nothing to do.\r\n    if (!this.hls) {\r\n      return;\r\n    }\r\n\r\n    if (this._hlsSourceLoaded) {\r\n      return;\r\n    }\r\n\r\n    const src = this._pendingSrc || this.player._pendingSource || this.player.currentSource;\r\n    if (!src) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this.hls.loadSource(src);\r\n      this._hlsSourceLoaded = true;\r\n      // Start loading so manifest is parsed and levels/tracks become available.\r\n      // Note: this may fetch initial fragments depending on stream/config.\r\n      this.hls.startLoad();\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n  }\r\n\r\n  play() {\r\n    // Save scroll position to prevent browser from scrolling to video\r\n    const scrollX = window.scrollX;\r\n    const scrollY = window.scrollY;\r\n\r\n    // If deferLoad is enabled, start HLS loading only on the first user play request.\r\n    if (this.player.options.deferLoad && this.hls && !this._hlsSourceLoaded) {\r\n      const src = this._pendingSrc || this.player.currentSource;\r\n      if (src) {\r\n        try {\r\n          this.hls.loadSource(src);\r\n          this.hls.startLoad();\r\n          this._hlsSourceLoaded = true;\r\n        } catch (e) {\r\n          // ignore and let media.play() surface errors if any\r\n        }\r\n      }\r\n    }\r\n    \r\n    const promise = this.media.play();\r\n    \r\n    // Restore scroll position immediately to prevent auto-scroll\r\n    window.scrollTo(scrollX, scrollY);\r\n    \r\n    if (promise !== undefined) {\r\n      promise.catch(error => {\r\n        this.player.log('Play failed:', error, 'warn');\r\n      });\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    this.media.pause();\r\n  }\r\n\r\n  seek(time) {\r\n    this.media.currentTime = time;\r\n  }\r\n\r\n  setVolume(volume) {\r\n    this.media.volume = volume;\r\n  }\r\n\r\n  setMuted(muted) {\r\n    this.media.muted = muted;\r\n  }\r\n\r\n  setPlaybackSpeed(speed) {\r\n    this.media.playbackRate = speed;\r\n  }\r\n\r\n  switchQuality(levelIndex) {\r\n    if (this.hls) {\r\n      this.hls.currentLevel = levelIndex;\r\n    }\r\n  }\r\n\r\n  getQualities() {\r\n    if (this.hls && this.hls.levels) {\r\n      return this.hls.levels.map((level, index) => {\r\n        const height = Number(level.height) || 0;\r\n        const bitrate = Number(level.bitrate) || 0;\r\n        const kb = bitrate > 0 ? Math.round(bitrate / 1000) : 0;\r\n\r\n        // Video HLS typically has height -> show \"720p\".\r\n        // Audio-only HLS often has height=0 -> show bitrate label instead.\r\n        const name = height > 0 ? `${height}p` : (kb > 0 ? `${kb} kb` : 'Auto');\r\n\r\n        return {\r\n          index,\r\n          height: level.height,\r\n          width: level.width,\r\n          bitrate: level.bitrate,\r\n          name\r\n        };\r\n      });\r\n    }\r\n    return [];\r\n  }\r\n\r\n  getCurrentQuality() {\r\n    if (this.hls) {\r\n      return this.hls.currentLevel;\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  destroy() {\r\n    if (this.hls) {\r\n      this.hls.destroy();\r\n      this.hls = null;\r\n    }\r\n  }\r\n}\r\n\r\n"],
  "mappings": "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",
  "names": []
}
